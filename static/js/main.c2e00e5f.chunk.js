(this["webpackJsonpevents.toughlovearena.com"]=this["webpackJsonpevents.toughlovearena.com"]||[]).push([[0],{62:function(e,t,n){"use strict";n.r(t);var r,a,c=n(3),i=n.n(c),o=n(21),s=n.n(o),l=n(7),u=n.n(l),d=n(9),h=n(8),m=n(5),j=n(6),b=n(22),f=n(23),p=n(28),g=n(13),v=n(24),O=n.n(v);!function(e){e.Stream="stream",e.Tournament="tournament",e.Meetup="meetup"}(a||(a={}));var x=(r={},Object(g.a)(r,a.Stream,"#9747ff"),Object(g.a)(r,a.Tournament,"#ff870f"),Object(g.a)(r,a.Meetup,"#ed1c40"),r);function w(e){var t;return null!==(t=e&&x[e])&&void 0!==t?t:"#707070"}function y(e){return e.when.map((function(t){var n=t.date.split("/").map((function(e){return parseFloat(e)})),r=Object(h.a)(n,3),a=r[0],c=r[1],i=r[2],o=t.time.split(":").map((function(e){return parseFloat(e)})),s=Object(h.a)(o,2),l=function(e,t,n,r,a,c,i){var o=new Date(Date.UTC(t,n-1,r,a,c,i)),s=new Date(o.toLocaleString("en-US",{timeZone:"UTC"})),l=new Date(o.toLocaleString("en-US",{timeZone:e})),u=s.getTime()-l.getTime();return o.setTime(o.getTime()+u),o}("America/New_York",a,c,i,s[0],s[1],0),u=new Date(l.getTime()+60*t.hours*60*1e3);return{title:e.title,type:e.type,description:e.description,image:e.image,twitch:e.twitch,challonge:e.challonge,matcherino:e.matcherino,start:l,end:u}}))}function k(e){var t=[];return e.forEach((function(e){return t.push.apply(t,Object(p.a)(e))})),t}function T(e){return S.apply(this,arguments)}function S(){return(S=Object(d.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date,e.next=3,fetch("".concat(t,"?v=").concat(n.getTime()));case 3:return r=e.sent,e.next=6,r.text();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F,z,E,C,_,D,L,U,A,M,P,Y,B,I,J=function(){function e(){Object(b.a)(this,e)}return Object(f.a)(e,[{key:"_parseYaml",value:function(e){var t=O.a.parse(e).events;if(!t)throw new Error("events yaml is not formatted correctly");return t}},{key:"_organizeEvents",value:function(e){var t=new Date,n=function(e){return t=e.concat(),n=function(e){return e.start.getTime()},t.sort((function(e,t){return function(e,t){return e<t?-1:e>t?1:0}(n(e),n(t))})),t;var t,n}(k(e.map(y)));return{past:n.filter((function(e){return e.end<=t})).reverse(),upcoming:n.filter((function(e){return e.end>t})),all:n}}},{key:"fetchEvents",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(["data2021.yaml","data2022.yaml"].map(T));case 2:return t=e.sent,n=t.map((function(e){return r._parseYaml(e)})),e.abrupt("return",this._organizeEvents(k(n)));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Z=n(14),G=n(2),H=j.a.div(F||(F=Object(m.a)(["\n  margin: 1rem 0;\n  padding: 0.5rem 1rem;\n  border-radius: 1rem 0 1rem 1rem;\n  ","\n\n  /* image */\n  position: relative;\n  background: none;\n  z-index: 2;\n\n  text-align: left;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n"])),(function(e){return"\n    border: 0.5em solid ".concat(w(e.type),";\n  ")})),N=j.a.div(z||(z=Object(m.a)(["\n  font-size: 1.5em;\n  text-decoration: underline;\n  margin: 0.5rem 0;\n"]))),W=j.a.img(E||(E=Object(m.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: auto;\n  height: 3.5rem;\n  z-index: 1;\n"]))),q=j.a.div(C||(C=Object(m.a)(["\n"]))),K=j.a.div(_||(_=Object(m.a)(["\n"]))),Q=j.a.div(D||(D=Object(m.a)(["\n  text-align: right;\n"]))),R=j.a.div(L||(L=Object(m.a)(["\n  font-size: 1.3em;\n"])));function V(e){var t=e.event,n=[],r=t.description?t.description+"\n\n":"";if(t.challonge){var a=t.challonge.includes("challonge.com")?t.challonge:"https://challonge.com/"+t.challonge;n.push({name:"challonge",url:a}),r+="".concat(a,"\n")}if(t.matcherino){var c="https://matcherino.com/tournaments/"+t.matcherino;n.push({name:"matcherino",url:c}),r+="".concat(c,"\n")}if(t.twitch){var i="https://twitch.tv/"+t.twitch;n.push({name:"twitch",url:i}),r+="".concat(i,"\n")}var o={title:t.title,description:r,start:t.start,end:t.end};return Object(G.jsxs)(H,{type:t.type,children:[Object(G.jsx)(N,{children:t.title}),Object(G.jsx)(q,{children:t.description}),n.length&&Object(G.jsx)(K,{children:n.map((function(e,t){return Object(G.jsxs)("span",{children:[t>0&&" / ",Object(G.jsx)("a",{rel:"noreferrer",target:"_blank",href:e.url,children:e.name})]},t)}))}),Object(G.jsxs)(Q,{children:[Object(G.jsx)(R,{children:t.start.toLocaleString()}),Object(G.jsxs)("div",{children:[Object(G.jsx)("a",{rel:"noreferrer",target:"_blank",href:Z.google(o),children:"gcal"}),"\xa0/\xa0",Object(G.jsx)("a",{rel:"noreferrer",target:"_blank",href:Z.ics(o),children:"ics"}),"\xa0/\xa0",Object(G.jsx)("a",{rel:"noreferrer",target:"_blank",href:Z.outlook(o),children:"outlook"})]})]}),t.image&&Object(G.jsx)(W,{src:"images/"+t.image})]})}var X=j.a.div(U||(U=Object(m.a)(["\n  max-width: 620px;\n  min-height: 100vh;\n  margin: 0 auto;\n  padding: 1em 2em;\n  border: 1px solid black;\n  border-top-width: 0;\n  border-bottom-width: 0;\n  box-sizing: border-box;\n  background-color: white;\n\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n"]))),$=j.a.div(A||(A=Object(m.a)(["\n  margin: 1em;\n"]))),ee=j.a.img(M||(M=Object(m.a)(["\n  width: 95%;\n  height: auto;\n"]))),te=j.a.div(P||(P=Object(m.a)(["\n  font-size: 1.5em;\n  margin-bottom: 0.2em;\n"]))),ne=j.a.div(Y||(Y=Object(m.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n"]))),re=j.a.div(B||(B=Object(m.a)(["\n  cursor: pointer;\n  margin: 0.3em;\n  padding: 0.5em;\n  box-sizing: border-box;\n  border-radius: 1em;\n  ","\n"])),(function(e){return"\n    width: ".concat(e.stretch?"20em":"7em",";\n    border: 0.2em solid ").concat(e.color,";\n    ").concat(e.selected?"\n      border-width: 0.4em;\n    ":"","\n  ")})),ae=j.a.h2(I||(I=Object(m.a)(["\n  font-style: italic;\n"])));function ce(e){var t=e.filter,n=e.setFilter,r=e.eventType,a=e.label;return Object(G.jsx)(re,{selected:t===r,color:w(r),onClick:function(){return n(r)},children:a})}function ie(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(void 0),o=Object(h.a)(i,2),s=o[0],l=o[1],m=Object(c.useState)(void 0),j=Object(h.a)(m,2),b=j[0],f=j[1],p=Object(c.useCallback)(Object(d.a)(u.a.mark((function e(){var t,r,a,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new J).fetchEvents();case 2:t=e.sent,r=t.past,a=t.upcoming,c=n?r:a,i=s?c.filter((function(e){return e.type===s})):c,f(i);case 8:case"end":return e.stop()}}),e)}))),[n,s]);return Object(c.useEffect)((function(){p()}),[p]),Object(G.jsxs)(X,{children:[Object(G.jsxs)($,{children:[Object(G.jsx)(ee,{src:"logo.png"}),Object(G.jsx)(te,{children:"Upcoming Tough Love Arena Events"}),Object(G.jsx)("div",{children:"All dates and times are displayed in your local timezone."}),Object(G.jsxs)("div",{children:["Want to submit your own event? Check the ",Object(G.jsx)("a",{href:"https://github.com/toughlovearena/events.toughlovearena.com",children:"GitHub"})," for instructions."]})]}),Object(G.jsxs)(ne,{children:[Object(G.jsx)(ce,{filter:s,setFilter:l,eventType:void 0,label:"All"}),Object(G.jsx)(ce,{filter:s,setFilter:l,eventType:a.Tournament,label:"Tournament"}),Object(G.jsx)(ce,{filter:s,setFilter:l,eventType:a.Stream,label:"Stream"}),Object(G.jsx)(ce,{filter:s,setFilter:l,eventType:a.Meetup,label:"Offline"})]}),Object(G.jsx)(ne,{children:Object(G.jsxs)(re,{stretch:!0,selected:!1,color:"seagreen",onClick:function(){return r(!n)},children:["Switch to ",n?"Upcoming":"Past"," Events"]})}),b?b.length?Object(G.jsx)("div",{children:b.map((function(e,t){return Object(G.jsx)(V,{event:e},t)}))}):Object(G.jsx)("div",{children:Object(G.jsx)(ae,{children:"no events found"})}):Object(G.jsx)("div",{children:Object(G.jsx)(ae,{children:"loading..."})})]})}var oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};s.a.render(Object(G.jsx)(i.a.StrictMode,{children:Object(G.jsx)(ie,{})}),document.getElementById("root")),oe()}},[[62,1,2]]]);
//# sourceMappingURL=main.c2e00e5f.chunk.js.map